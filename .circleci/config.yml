version: 2

jobs:
  build:
    docker:
      - image: circleci/python:3.7
    resource_class: large
    environment:
      AWS_DEFAULT_REGION: "eu-west-1"
      AWS_ACCESS_KEY_ID: "fooAKIAYIAT6FVJPYZRK75Y"
      AWS_SECRET_ACCESS_KEY: "Dnh91kVTjEIb8MNK2qWVkqhAiML8HKcVhvMTpBC8"
      AWS_KEY: "AKIAYIAT6FVJPYZRK75Y"
      AWS_SECRET: "Dnh91kVTjEIb8MNK2qWVkqhAiML8HKcVhvMTpBC8"
    steps:
      - checkout
      - run: fallocate -l 5M sample/small-file.img
      - run: fallocate -l 5M sample/#small-file.img
      - run: fallocate -l 112M sample/big-file.img
      - run: touch sample/zero_file
      - run: ls sample
      - run: env
      - run: mkdir 😀​😁​😂​😃​😄​😅​😆​😇​😈​
      - run: fallocate -l 5M 😀​😁​😂​😃​😄​😅​😆​😇​😈​/small-file.img
      - store_artifacts:
          path: 😀​😁​😂​😃​😄​😅​😆​😇​😈​
      - run: mkdir ../oneup
      - run: fallocate -l 5M ../oneup/small-file.img
      - store_artifacts:
          path: ../oneup
      - store_artifacts:
          path: sample    
      - run: sleep 120    
